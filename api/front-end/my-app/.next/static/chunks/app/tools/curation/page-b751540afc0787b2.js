(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[552],{3818:(e,t,s)=>{Promise.resolve().then(s.bind(s,5667))},5667:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var r=s(5155),a=s(2115),l=s(5628),i=s(2771);function n(e){let{articles:t,selectedArticles:s,onSelectionChange:n,loading:c,onRefresh:d,onErrorClick:o,isPolling:m=!1}=e,[u,x]=(0,a.useState)({key:"modified_on",direction:"desc"});(0,a.useEffect)(()=>{if(m&&!c){let e=setInterval(()=>{d()},3e3);return()=>clearInterval(e)}},[m,c,d]);let h=(0,a.useCallback)(()=>{s.length===t.length?n([]):n(t.filter(e=>"processing"!==e.curation_status).slice(0,20).map(e=>e.id))},[t,s,n]),g=(0,a.useCallback)(e=>{let r=t.find(t=>t.id===e);(null==r?void 0:r.curation_status)!=="processing"&&(s.includes(e)?n(s.filter(t=>t!==e)):s.length<20&&n([...s,e]))},[t,s,n]),p=e=>{switch(e.curation_status){case"completed":return(0,r.jsx)("span",{className:"inline-block w-4 h-4 rounded-full bg-green-200"});case"pending":return(0,r.jsx)("span",{className:"inline-block w-4 h-4 rounded-full bg-blue-200"});case"failed":return(0,r.jsx)("button",{onClick:()=>null==o?void 0:o(e.id),className:"flex items-center hover:bg-red-50 p-1 rounded transition-colors",title:"Click to view error details",children:(0,r.jsx)(l.A,{className:"h-4 w-4 text-red-500"})});case"processing":return(0,r.jsx)(i.A,{className:"h-4 w-4 text-blue-500 animate-pulse"});default:return null}},b=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),f=[...t].sort((e,t)=>{let s=e[u.key],r=t[u.key];return null===s&&null===r?0:null===s?"asc"===u.direction?1:-1:null===r?"asc"===u.direction?-1:1:"asc"===u.direction?s<r?-1:1:s>r?-1:1});return c?(0,r.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),(0,r.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded"},t))})]})}):(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[(0,r.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Articles"}),m&&(0,r.jsxs)("div",{className:"flex items-center text-sm text-blue-600",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full mr-2 animate-pulse"}),"Live updates"]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:[s.length," of ",t.length," selected",s.length>0&&" (max 20)"]}),(0,r.jsx)("button",{onClick:d,disabled:c,className:"text-blue-600 hover:text-blue-800 text-sm font-medium disabled:opacity-50",children:c?"Refreshing...":"Refresh"})]})]})}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-2 text-left",children:(0,r.jsx)("input",{type:"checkbox",checked:s.length===t.length&&t.length>0,onChange:h,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,r.jsx)("th",{className:"px-6 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Filename"}),(0,r.jsx)("th",{className:"px-6 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PubMed ID"}),(0,r.jsx)("th",{className:"px-6 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tokens"}),(0,r.jsx)("th",{className:"px-6 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,r.jsx)("th",{className:"px-6 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Modified"}),(0,r.jsx)("th",{className:"px-6 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors ".concat(s.includes(e.id)?"bg-blue-50":""," ").concat("processing"===e.curation_status?"bg-blue-25":""),children:[(0,r.jsx)("td",{className:"px-6 py-2 whitespace-nowrap",children:(0,r.jsx)("input",{type:"checkbox",checked:s.includes(e.id),onChange:()=>g(e.id),disabled:"processing"===e.curation_status,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"})}),(0,r.jsx)("td",{className:"px-6 py-2 whitespace-nowrap text-sm text-gray-900",children:e.filename}),(0,r.jsx)("td",{className:"px-6 py-2 whitespace-nowrap text-sm text-gray-900",children:e.pubmed_id||"-"}),(0,r.jsx)("td",{className:"px-6 py-2 whitespace-nowrap text-sm text-gray-900",children:e.approximate_tokens.toLocaleString()}),(0,r.jsx)("td",{className:"px-6 py-2 whitespace-nowrap text-sm text-gray-900",children:b(e.created_on)}),(0,r.jsx)("td",{className:"px-6 py-2 whitespace-nowrap text-sm text-gray-900",children:b(e.modified_on)}),(0,r.jsx)("td",{className:"px-6 py-2 whitespace-nowrap text-sm",children:p(e)})]},e.id))})]})}),0===t.length&&(0,r.jsx)("div",{className:"p-6 text-center text-gray-500",children:"No articles available for curation."})]})}var c=s(5731);function d(e){let{selectedArticles:t,onCurationStart:s,isProcessing:l}=e,[i,n]=(0,a.useState)(!1),[d,o]=(0,a.useState)(!1),[m,u]=(0,a.useState)(null),x=async()=>0===t.length?void u("Please select at least one article to curate."):t.length>20?void u("Maximum 20 articles can be curated at once."):void o(!0),h=async()=>{n(!0),u(null),o(!1);try{let e=await fetch(c.S.CURATION.BULK_CURATE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({article_ids:t})}),r=await e.json();if(!e.ok)throw Error(r.error||"Failed to start curation");s()}catch(e){u(e instanceof Error?e.message:"Failed to start curation")}finally{n(!1)}};return(0,r.jsxs)("div",{className:"mt-6 bg-white shadow rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Curation Actions"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[t.length," article",1!==t.length?"s":""," selected",t.length>0&&" (".concat(t.length,"/20)")]})]}),(0,r.jsx)("button",{onClick:x,disabled:0===t.length||i||l,className:"\n            inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md\n            ".concat(0===t.length||i||l?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","\n          "),children:i||l?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"-ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,r.jsx)("polygon",{points:"5,4 15,12 5,20"})}),"Start Curation"]})})]}),m&&(0,r.jsx)("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,r.jsx)("p",{className:"text-red-700 text-sm",children:m})}),t.length>0&&(0,r.jsx)("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,r.jsxs)("p",{className:"text-blue-700 text-sm",children:[(0,r.jsx)("strong",{children:"Note:"})," Curation processing may take up to 5 minutes per article. You can monitor progress in the articles table above."]})}),d&&(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,r.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,r.jsxs)("div",{className:"mt-3 text-center",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Confirm Curation"}),(0,r.jsx)("div",{className:"mt-2 px-7 py-3",children:(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Are you sure you want to start curation for ",t.length," article",1!==t.length?"s":"","? This process may take several minutes to complete."]})}),(0,r.jsxs)("div",{className:"items-center px-4 py-3",children:[(0,r.jsx)("button",{onClick:h,className:"px-4 py-2 bg-blue-600 text-white text-base font-medium rounded-md w-24 mr-2 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Confirm"}),(0,r.jsx)("button",{onClick:()=>o(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 text-base font-medium rounded-md w-24 hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"})]})]})})})]})}var o=s(5939),m=s(280),u=s(4500);function x(e){let{isOpen:t,onClose:s,errorDetails:i,loading:n=!1}=e,c=e=>{let t=e.toLowerCase();return t.includes("openai")||t.includes("api key")||t.includes("token limit")?{category:"OpenAI API Error",severity:"high",description:"Issue with OpenAI API integration"}:t.includes("parsing")||t.includes("json")||t.includes("format")?{category:"Data Processing Error",severity:"medium",description:"Issue with data parsing or formatting"}:t.includes("timeout")||t.includes("connection")?{category:"Network Error",severity:"medium",description:"Network connectivity issue"}:{category:"Application Error",severity:"low",description:"General application error"}},d=e=>{switch(e){case"high":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}};return(0,r.jsx)(o.e.Root,{show:t,as:a.Fragment,children:(0,r.jsxs)(m.lG,{as:"div",className:"relative z-50",onClose:s,children:[(0,r.jsx)(o.e.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,r.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,r.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,r.jsx)(o.e.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,r.jsxs)(m.lG.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-2xl sm:p-6",children:[(0,r.jsx)("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:(0,r.jsxs)("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:s,children:[(0,r.jsx)("span",{className:"sr-only",children:"Close"}),(0,r.jsx)(u.A,{className:"h-6 w-6","aria-hidden":"true"})]})}),n?(0,r.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,r.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading error details..."})]}):i?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:(0,r.jsx)(l.A,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),(0,r.jsx)("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:(0,r.jsx)(m.lG.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Curation Error Details"})})]}),(0,r.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Article Information"}),(0,r.jsxs)("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-2 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"font-medium text-gray-500",children:"Article ID:"}),(0,r.jsx)("dd",{className:"text-gray-900",children:i.article_id})]}),i.filename&&(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"font-medium text-gray-500",children:"Filename:"}),(0,r.jsx)("dd",{className:"text-gray-900",children:i.filename})]}),i.pubmed_id&&(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"font-medium text-gray-500",children:"PubMed ID:"}),(0,r.jsx)("dd",{className:"text-gray-900",children:i.pubmed_id})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"font-medium text-gray-500",children:"Failed At:"}),(0,r.jsx)("dd",{className:"text-gray-900",children:new Date(i.failed_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})})]})]})]}),(()=>{let e=c(i.error_message);return(0,r.jsxs)("div",{className:"rounded-lg p-4 border ".concat(d(e.severity)),children:[(0,r.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Error Category"}),(0,r.jsx)("p",{className:"text-sm font-medium",children:e.category}),(0,r.jsx)("p",{className:"text-sm mt-1",children:e.description})]})})(),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Error Message"}),(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,r.jsx)("pre",{className:"text-sm text-red-800 whitespace-pre-wrap font-mono",children:i.error_message})})]}),(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Troubleshooting Tips"}),(0,r.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,r.jsx)("li",{children:"• Check if the article content is properly formatted"}),(0,r.jsx)("li",{children:"• Verify that the transcription process completed successfully"}),(0,r.jsx)("li",{children:"• Contact support if the error persists"}),(0,r.jsx)("li",{children:"• You can retry curation once the issue is resolved"})]})]})]}),(0,r.jsx)("div",{className:"mt-6 flex justify-end space-x-3",children:(0,r.jsx)("button",{type:"button",className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:s,children:"Close"})})]}):(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{className:"text-gray-500",children:"No error details available."})})]})})})})]})})}var h=s(7784);function g(){let[e,t]=(0,a.useState)([]),[s,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)(!1),[m,u]=(0,a.useState)(null),[g,p]=(0,a.useState)(!1),[b,f]=(0,a.useState)([]),[y,j]=(0,a.useState)(!0),[N,v]=(0,a.useState)(null);(0,a.useEffect)(()=>{w()},[]);let w=async()=>{try{j(!0);let e=await fetch(c.S.CURATION.ARTICLES);if(!e.ok)throw Error("Failed to fetch articles");let t=await e.json();f(t.articles)}catch(e){v(e instanceof Error?e.message:"Failed to load articles")}finally{j(!1)}},{articles:C,status:k,loading:E,error:S,refresh:A,startPolling:_,stopPolling:T}=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,[r,l]=(0,a.useState)(e),[i,n]=(0,a.useState)(null),[d,o]=(0,a.useState)(!1),[m,u]=(0,a.useState)(null),x=(0,a.useRef)(null),h=(0,a.useRef)(null);(0,a.useEffect)(()=>{l(e)},[e]);let g=(0,a.useCallback)(async()=>{try{o(!0),u(null),h.current&&h.current.abort(),h.current=new AbortController;let e=await fetch(c.S.CURATION.STATUS,{signal:h.current.signal,headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});if(!e.ok)throw Error("HTTP ".concat(e.status,": ").concat(e.statusText));let t=await e.json();l(t.articles),n(t)}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;u(e instanceof Error?e.message:"Failed to fetch status")}finally{o(!1)}},[]),p=(0,a.useCallback)(()=>{x.current&&clearInterval(x.current),g(),x.current=setInterval(g,s)},[g,s]),b=(0,a.useCallback)(()=>{x.current&&(clearInterval(x.current),x.current=null),h.current&&(h.current.abort(),h.current=null)},[]);return(0,a.useEffect)(()=>(t?p():b(),()=>{b()}),[t,p,b]),{articles:r,status:i,loading:d,error:m,refresh:(0,a.useCallback)(()=>{g()},[g]),startPolling:p,stopPolling:b}}(b,s),I=(0,a.useCallback)(()=>{l(!0),t([]),A()},[A]);(0,a.useEffect)(()=>{if(k&&0===k.processing_count&&s){let e=setTimeout(()=>{l(!1)},5e3);return()=>clearTimeout(e)}},[k,s]);let R=(0,a.useCallback)(async e=>{p(!0),o(!0);try{let t=await fetch(c.S.CURATION.ERROR_DETAILS(e));if(!t.ok)throw Error("Failed to fetch error details");let s=await t.json();u(s)}catch(t){u({article_id:e,error_message:"Failed to load error details",curation_status:"failed",failed_at:new Date().toISOString()})}finally{p(!1)}},[]),L=(0,a.useCallback)(()=>{o(!1),u(null)},[]),F=y||s&&E,O=N||S;return(0,r.jsx)(h.t,{children:(0,r.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Article Curation"}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"Select articles to curate using AI-assisted processing. Maximum 20 articles can be processed at once."}),s&&(0,r.jsxs)("div",{className:"mt-2 flex items-center text-sm text-blue-600",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full mr-2 animate-pulse"}),"Live status updates active"]})]}),O&&(0,r.jsxs)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,r.jsx)("p",{className:"text-red-700",children:O}),(0,r.jsx)("button",{onClick:w,className:"mt-2 text-red-600 hover:text-red-800 underline",children:"Retry"})]}),k&&(0,r.jsxs)("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:k.total_count}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"Total Articles"})]}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:k.processing_count}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"Processing"})]}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600",children:k.completed_count}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"Completed"})]}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-red-600",children:k.failed_count}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"Failed"})]})]}),(0,r.jsx)(n,{articles:C,selectedArticles:e,onSelectionChange:t,loading:F,onRefresh:A,onErrorClick:R,isPolling:s}),(0,r.jsx)(d,{selectedArticles:e,onCurationStart:I,isProcessing:s}),(0,r.jsx)(x,{isOpen:i,onClose:L,errorDetails:m,loading:g})]})})}},5731:(e,t,s)=>{"use strict";s.d(t,{S:()=>a});let r="http://web:8000",a={CURATION:{ARTICLES:"".concat(r,"/api/curation/articles/"),STATUS:"".concat(r,"/api/curation/status/"),BULK_CURATE:"".concat(r,"/api/curation/bulk_curate/"),ERROR_DETAILS:e=>"".concat(r,"/api/curation/").concat(e,"/error_details/")},EDITOR:{CELLLINES:"".concat(r,"/api/editor/celllines/"),CELLLINE:e=>"".concat(r,"/api/editor/celllines/").concat(e,"/"),SCHEMA:"".concat(r,"/api/editor/cellline-schema/"),NEW_TEMPLATE:"".concat(r,"/api/editor/celllines/new_template/"),VERSIONS:e=>"".concat(r,"/api/editor/celllines/").concat(e,"/versions/"),VERSION:(e,t)=>"".concat(r,"/api/editor/celllines/").concat(e,"/versions/").concat(t,"/")},TRANSCRIPTION:{ARTICLES:"".concat(r,"/api/articles/"),CREATE_ARTICLE:"".concat(r,"/api/transcription/create_article/")}}},7784:(e,t,s)=>{"use strict";s.d(t,{t:()=>l});var r=s(5155),a=s(2115);class l extends a.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Editor Error Boundary caught an error:",e,t)}render(){return this.state.hasError?(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 m-4",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Editor Error"}),(0,r.jsxs)("div",{className:"mt-2 text-sm text-red-700",children:[(0,r.jsx)("p",{children:"Something went wrong with the cell line editor. Please refresh the page or contact support if the problem persists."}),!1]})]})]}),(0,r.jsx)("div",{className:"flex",children:(0,r.jsx)("button",{onClick:()=>this.setState({hasError:!1}),className:"bg-red-100 hover:bg-red-200 text-red-800 text-sm font-medium py-2 px-4 rounded transition-colors",children:"Try Again"})})]}):this.props.children}constructor(e){super(e),this.state={hasError:!1}}}}},e=>{var t=t=>e(e.s=t);e.O(0,[842,441,684,358],()=>t(3818)),_N_E=e.O()}]);