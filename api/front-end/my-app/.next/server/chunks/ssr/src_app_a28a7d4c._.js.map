{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///app/src/app/components/RecordsTable.tsx"],"sourcesContent":["'use client';\nimport { useState, useMemo } from 'react';\n\ntype Record = {\n  id: number;\n  filename: string;\n  created_on: string;\n  modified_on: string;\n  pubmed_id: number | null;\n  is_curated: boolean;\n  transcription_status: string;\n  transcription_content: string;\n  curation_status: string;\n  transcription_error?: string;\n  curation_error?: string;\n  curation_started_at?: string;\n  approximate_tokens?: number;\n}\n\ninterface RecordsTableProps {\n  records: Record[];\n  onRecordDeleted?: () => void; // Callback to refresh data after deletion\n  onUploadClick?: () => void; // Callback for upload button click\n  onEditRecord?: (record: Record) => void; // Callback for edit button click\n}\n\ntype SortField = keyof Pick<Record, 'filename' | 'pubmed_id' | 'created_on' | 'transcription_status' | 'curation_status'>;\ntype SortDirection = 'asc' | 'desc' | null;\n\nconst RecordsTable = ({ records, onRecordDeleted, onUploadClick, onEditRecord }: RecordsTableProps) => {\n  const [selectedRecords, setSelectedRecords] = useState<Set<number>>(new Set());\n  const [searchTerm, setSearchTerm] = useState('');\n  const [sortField, setSortField] = useState<SortField | null>(null);\n  const [sortDirection, setSortDirection] = useState<SortDirection>(null);\n\n  // Handle individual checkbox toggle\n  const toggleRecordSelection = (recordId: number) => {\n    const newSelection = new Set(selectedRecords);\n    if (newSelection.has(recordId)) {\n      newSelection.delete(recordId);\n    } else {\n      newSelection.add(recordId);\n    }\n    setSelectedRecords(newSelection);\n  };\n\n  // Handle row click\n  const handleRowClick = (recordId: number) => {\n    toggleRecordSelection(recordId);\n  };\n\n  // Handle select all checkbox\n  const handleSelectAll = () => {\n    if (selectedRecords.size === filteredAndSortedRecords.length) {\n      setSelectedRecords(new Set());\n    } else {\n      setSelectedRecords(new Set(filteredAndSortedRecords.map(record => record.id)));\n    }\n  };\n\n  // Handle column sorting\n  const handleSort = (field: SortField) => {\n    if (sortField === field) {\n      if (sortDirection === 'asc') {\n        setSortDirection('desc');\n      } else if (sortDirection === 'desc') {\n        setSortField(null);\n        setSortDirection(null);\n      } else {\n        setSortDirection('asc');\n      }\n    } else {\n      setSortField(field);\n      setSortDirection('asc');\n    }\n  };\n\n  // Handle delete record\n  const handleDeleteRecord = async (recordId: number) => {\n    try {\n      const response = await fetch(`http://localhost:8000/api/transcribed-articles/${recordId}/`, {\n        method: 'DELETE',\n      });\n      \n      if (response.ok) {\n        // Remove from selected records if it was selected\n        const newSelection = new Set(selectedRecords);\n        newSelection.delete(recordId);\n        setSelectedRecords(newSelection);\n        \n        // Call callback to refresh data\n        if (onRecordDeleted) {\n          onRecordDeleted();\n        }\n      } else {\n        console.error('Failed to delete record');\n        alert('Failed to delete record. Please try again.');\n      }\n    } catch (error) {\n      console.error('Error deleting record:', error);\n      alert('Error deleting record. Please try again.');\n    }\n  };\n\n  // Filter and sort records\n  const filteredAndSortedRecords = useMemo(() => {\n    let filtered = records.filter(record => \n      record.filename.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      record.pubmed_id?.toString().includes(searchTerm) ||\n      record.transcription_status.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      record.curation_status.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n\n    if (sortField && sortDirection) {\n      filtered.sort((a, b) => {\n        let aValue = a[sortField];\n        let bValue = b[sortField];\n\n        // Handle null values for pubmed_id\n        if (sortField === 'pubmed_id') {\n          if (aValue === null && bValue === null) return 0;\n          if (aValue === null) return sortDirection === 'asc' ? 1 : -1;\n          if (bValue === null) return sortDirection === 'asc' ? -1 : 1;\n        }\n\n        // Convert to string for comparison if needed\n        if (typeof aValue === 'string') {\n          aValue = aValue.toLowerCase();\n        }\n        if (typeof bValue === 'string') {\n          bValue = bValue.toLowerCase();\n        }\n\n        // Ensure we're not comparing null values\n        if (aValue === null || aValue === undefined) return 1;\n        if (bValue === null || bValue === undefined) return -1;\n\n        if (aValue < bValue) return sortDirection === 'asc' ? -1 : 1;\n        if (aValue > bValue) return sortDirection === 'asc' ? 1 : -1;\n        return 0;\n      });\n    }\n\n    return filtered;\n  }, [records, searchTerm, sortField, sortDirection]);\n\n  // Render sort icon\n  const renderSortIcon = (field: SortField) => {\n    return (\n      <svg className=\"w-4 h-4 ml-1 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4\" />\n      </svg>\n    );\n  };\n\n  return (\n    <div className=\"flex flex-col\">\n      <div className=\"-m-1.5 overflow-x-auto\">\n        <div className=\"p-1.5 min-w-full inline-block align-middle\">\n          <div className=\"border border-gray-200 rounded-lg divide-y divide-gray-200 dark:border-neutral-700 dark:divide-neutral-700\">\n            {/* Header with Title */}\n            <div className=\"py-3 px-4\">\n              <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">Transcribed Articles</h2>\n            </div>\n\n            {/* Search Bar and Upload Button Row */}\n            <div className=\"py-3 px-4\">\n              <div className=\"flex flex-col sm:flex-row gap-4 sm:items-center sm:justify-between\">\n                <div className=\"relative w-1/2\">\n                  <label htmlFor=\"hs-table-search\" className=\"sr-only\">Search</label>\n                  <input \n                    type=\"text\" \n                    name=\"hs-table-search\" \n                    id=\"hs-table-search\" \n                    value={searchTerm}\n                    onChange={(e) => setSearchTerm(e.target.value)}\n                    className=\"py-1.5 sm:py-2 px-3 ps-9 block w-full border-gray-200 shadow-2xs rounded-full sm:text-sm focus:z-10 focus:border-blue-500 focus:ring-blue-500 hover:border-blue-500 hover:ring-2 hover:ring-blue-200 hover:shadow-md transition-all duration-200 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600 dark:hover:border-blue-500 dark:hover:ring-2 dark:hover:ring-blue-800 dark:hover:shadow-md\" \n                    placeholder=\"Search for items\" \n                  />\n                  <div className=\"absolute inset-y-0 start-0 flex items-center pointer-events-none ps-3\">\n                    <svg className=\"size-4 text-gray-400 dark:text-neutral-500\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                      <circle cx=\"11\" cy=\"11\" r=\"8\"></circle>\n                      <path d=\"m21 21-4.3-4.3\"></path>\n                    </svg>\n                  </div>\n                </div>\n                {onUploadClick && (\n                  <button \n                    type=\"button\" \n                    onClick={onUploadClick}\n                    className=\"py-1.5 sm:py-2 px-6 inline-flex items-center gap-x-2 text-sm font-medium rounded-full border border-transparent bg-gray-800 text-white hover:bg-gray-700 focus:outline-hidden focus:bg-gray-700 disabled:opacity-50 disabled:pointer-events-none transition-colors duration-200\" \n                    aria-haspopup=\"dialog\" \n                    aria-expanded=\"false\" \n                    aria-controls=\"hs-static-backdrop-modal\" \n                    data-hs-overlay=\"#hs-static-backdrop-modal\"\n                  >\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n                    </svg>\n                    Upload\n                  </button>\n                )}\n              </div>\n            </div>\n            <div className=\"overflow-hidden\">\n              <table className=\"min-w-full divide-y divide-gray-200 dark:divide-neutral-700\">\n                <thead className=\"bg-gray-50 dark:bg-neutral-700\">\n                  <tr>\n                    <th scope=\"col\" className=\"py-3 px-4 pe-0\">\n                      <div className=\"flex items-center h-5\">\n                        <input \n                          id=\"hs-table-search-checkbox-all\" \n                          type=\"checkbox\" \n                          checked={filteredAndSortedRecords.length > 0 && selectedRecords.size === filteredAndSortedRecords.length}\n                          onChange={handleSelectAll}\n                          className=\"border-gray-200 rounded-sm text-blue-600 focus:ring-blue-500 dark:bg-neutral-700 dark:border-neutral-500 dark:checked:bg-blue-500 dark:checked:border-blue-500 dark:focus:ring-offset-gray-800\" \n                        />\n                        <label htmlFor=\"hs-table-search-checkbox-all\" className=\"sr-only\">Checkbox</label>\n                      </div>\n                    </th>\n                    <th scope=\"col\" className=\"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase dark:text-neutral-500\">\n                      <button \n                        onClick={() => handleSort('filename')}\n                        className=\"flex items-center hover:text-gray-700 dark:hover:text-neutral-300 hover:bg-gray-50 hover:shadow-[inset_0_0_0_2px_rgb(156_163_175)] dark:hover:bg-neutral-800 dark:hover:shadow-[inset_0_0_0_2px_rgb(115_115_115)] transition-all duration-200 rounded px-4 py-2\"\n                      >\n                        File Name\n                        {renderSortIcon('filename')}\n                      </button>\n                    </th>\n                    <th scope=\"col\" className=\"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase dark:text-neutral-500\">\n                      <button \n                        onClick={() => handleSort('pubmed_id')}\n                        className=\"flex items-center hover:text-gray-700 dark:hover:text-neutral-300 hover:bg-gray-50 hover:shadow-[inset_0_0_0_2px_rgb(156_163_175)] dark:hover:bg-neutral-800 dark:hover:shadow-[inset_0_0_0_2px_rgb(115_115_115)] transition-all duration-200 rounded px-4 py-2\"\n                      >\n                        PubMed ID\n                        {renderSortIcon('pubmed_id')}\n                      </button>\n                    </th>\n                    <th scope=\"col\" className=\"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase dark:text-neutral-500\">\n                      <button \n                        onClick={() => handleSort('created_on')}\n                        className=\"flex items-center hover:text-gray-700 dark:hover:text-neutral-300 hover:bg-gray-50 hover:shadow-[inset_0_0_0_2px_rgb(156_163_175)] dark:hover:bg-neutral-800 dark:hover:shadow-[inset_0_0_0_2px_rgb(115_115_115)] transition-all duration-200 rounded px-4 py-2\"\n                      >\n                        Created At\n                        {renderSortIcon('created_on')}\n                      </button>\n                    </th>\n                    <th scope=\"col\" className=\"px-3 py-3 text-start text-xs font-medium text-gray-500 uppercase dark:text-neutral-500 w-32\">\n                      <button \n                        onClick={() => handleSort('transcription_status')}\n                        className=\"flex items-center hover:text-gray-700 dark:hover:text-neutral-300 hover:bg-gray-50 hover:shadow-[inset_0_0_0_2px_rgb(156_163_175)] dark:hover:bg-neutral-800 dark:hover:shadow-[inset_0_0_0_2px_rgb(115_115_115)] transition-all duration-200 rounded px-4 py-2\"\n                      >\n                        Transcription\n                        {renderSortIcon('transcription_status')}\n                      </button>\n                    </th>\n\n                    <th scope=\"col\" className=\"px-6 py-3 text-end text-xs font-medium text-gray-500 dark:text-neutral-500\">Actions</th>\n                  </tr>\n                </thead>\n                <tbody className=\"divide-y divide-gray-200 dark:divide-neutral-700\">\n                  {filteredAndSortedRecords.map((record, index) => (\n                                         <tr \n                       key={record.id}\n                       onClick={() => handleRowClick(record.id)}\n                       className=\"hover:bg-gray-50 hover:shadow-[inset_0_0_0_2px_rgb(156_163_175)] dark:hover:bg-neutral-800 dark:hover:shadow-[inset_0_0_0_2px_rgb(115_115_115)] transition-all duration-200 cursor-pointer\"\n                     >\n                      <td className=\"py-3 ps-4\" onClick={(e) => e.stopPropagation()}>\n                        <div className=\"flex items-center h-5\">\n                          <input \n                            id={`hs-table-search-checkbox-${record.id}`} \n                            type=\"checkbox\" \n                            checked={selectedRecords.has(record.id)}\n                            onChange={() => toggleRecordSelection(record.id)}\n                            className=\"border-gray-200 rounded-sm text-blue-600 focus:ring-blue-500 dark:bg-neutral-800 dark:border-neutral-700 dark:checked:bg-blue-500 dark:checked:border-blue-500 dark:focus:ring-offset-gray-800\" \n                          />\n                          <label htmlFor={`hs-table-search-checkbox-${record.id}`} className=\"sr-only\">Checkbox</label>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800 dark:text-neutral-200\">{record.filename}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200\">{record.pubmed_id || 'N/A'}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200\">{new Date(record.created_on).toLocaleString()}</td>\n                      <td className=\"px-3 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-neutral-200\">\n                        {record.transcription_status === 'completed' ? (\n                          <div className=\"flex items-center justify-center\">\n                            <div className=\"w-4 h-4 bg-green-400 rounded-full\"></div>\n                          </div>\n                        ) : record.transcription_status === 'failed' ? (\n                          <div className=\"flex items-center justify-center\">\n                            <div className=\"w-4 h-4 bg-red-400 rounded-full\"></div>\n                          </div>\n                        ) : record.transcription_status === 'processing' ? (\n                          <div className=\"flex items-center justify-center\">\n                            <div className=\"w-4 h-4 bg-blue-400 rounded-full\"></div>\n                          </div>\n                        ) : (\n                          <div className=\"flex items-center justify-center\">\n                            <div className=\"w-4 h-4 bg-gray-400 rounded-full\"></div>\n                          </div>\n                        )}\n                      </td>\n\n                      <td className=\"px-6 py-4 whitespace-nowrap text-end text-sm font-medium\" onClick={(e) => e.stopPropagation()}>\n                        <div className=\"flex items-center justify-end space-x-2\">\n                          {/* Edit button - only show for completed transcriptions */}\n                          {record.transcription_status === 'completed' && record.transcription_content && (\n                            <button \n                              type=\"button\" \n                              onClick={() => onEditRecord && onEditRecord(record)}\n                              className=\"inline-flex items-center gap-x-2 text-sm font-semibold rounded-lg border border-transparent text-blue-600 hover:text-blue-800 focus:outline-hidden focus:text-blue-800 disabled:opacity-50 disabled:pointer-events-none dark:text-blue-500 dark:hover:text-blue-400 dark:focus:text-blue-400 transition-colors duration-200\"\n                              title=\"Edit transcription\"\n                            >\n                              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                              </svg>\n                            </button>\n                          )}\n                          \n                          {/* Delete button */}\n                          <button \n                            type=\"button\" \n                            onClick={() => handleDeleteRecord(record.id)}\n                            className=\"inline-flex items-center gap-x-2 text-sm font-semibold rounded-lg border border-transparent text-red-600 hover:text-black focus:outline-hidden focus:text-black disabled:opacity-50 disabled:pointer-events-none dark:text-red-500 dark:hover:text-white dark:focus:text-white transition-colors duration-200\"\n                            title=\"Delete record\"\n                          >\n                            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                            </svg>\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default RecordsTable;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 691, "column": 0}, "map": {"version":3,"sources":["file:///app/src/app/components/UploadModal.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { FilePond } from 'react-filepond';\nimport 'filepond/dist/filepond.min.css';\n\ninterface UploadModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onUploadComplete: () => void;\n}\n\ntype UploadState = 'idle' | 'uploading' | 'success' | 'error' | 'duplicate';\n\nconst UploadModal: React.FC<UploadModalProps> = ({ isOpen, onClose, onUploadComplete }) => {\n  const [files, setFiles] = useState<any[]>([]);\n  const [uploadState, setUploadState] = useState<UploadState>('idle');\n  const [isClosing, setIsClosing] = useState(false);\n  const [errorMessage, setErrorMessage] = useState<string>('');\n\n  // Handle escape key to close modal\n  useEffect(() => {\n    const handleEscape = (event: KeyboardEvent) => {\n      if (event.key === 'Escape' && isOpen && uploadState === 'idle') {\n        onClose();\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('keydown', handleEscape);\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleEscape);\n    };\n  }, [isOpen, uploadState, onClose]);\n\n  const handleFilesUpdate = (fileItems: any[]) => {\n    setFiles(fileItems);\n  };\n\n  const handleUploadStart = () => {\n    setUploadState('uploading');\n  };\n\n  const handleUploadSuccess = () => {\n    setUploadState('success');\n    onUploadComplete();\n  };\n\n  const handleUploadError = (error: any) => {\n    console.log('Upload error:', error);\n    \n    // Check if this is a duplicate error\n    if (error && error.body) {\n      try {\n        const errorData = JSON.parse(error.body);\n        if (errorData.error_type === 'duplicate') {\n          setUploadState('duplicate');\n          setErrorMessage(errorData.message || 'This article has already been transcribed.');\n          return;\n        }\n      } catch (e) {\n        // Not JSON or no error_type, treat as general error\n      }\n    }\n    \n    // Check for direct error response format\n    if (error && typeof error === 'object') {\n      if (error.error_type === 'duplicate') {\n        setUploadState('duplicate');\n        setErrorMessage(error.message || 'This article has already been transcribed.');\n        return;\n      }\n    }\n    \n    setUploadState('error');\n    setErrorMessage('An error occurred during upload. Please try again.');\n  };\n\n  const handleOkClick = () => {\n    setIsClosing(true);\n    // Add transition delay before actually closing\n    setTimeout(() => {\n      handleModalClose();\n    }, 200);\n  };\n\n  const handleRetryClick = () => {\n    setUploadState('idle');\n    setErrorMessage('');\n    // Clear current files and allow user to re-select or trigger re-upload\n    setFiles([]);\n  };\n\n  const handleModalClose = () => {\n    setFiles([]);\n    setUploadState('idle');\n    setErrorMessage('');\n    setIsClosing(false);\n    onClose();\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div \n      id=\"hs-static-backdrop-modal\" \n      className=\"fixed inset-0 z-50 overflow-x-hidden overflow-y-auto\"\n      role=\"dialog\" \n      tabIndex={-1} \n      aria-labelledby=\"hs-static-backdrop-modal-label\" \n      data-hs-overlay-keyboard=\"false\"\n    >\n      {/* Backdrop */}\n      <div \n        className=\"fixed inset-0 transition-opacity\"\n        style={{ backgroundColor: 'rgba(0, 0, 0, 0.5)' }}\n        onClick={uploadState === 'idle' ? onClose : undefined}\n      ></div>\n      \n      {/* Modal Container */}\n      <div className=\"flex items-center justify-center min-h-screen p-4\">\n        <div className={`relative bg-white border border-gray-200 shadow-2xl rounded-xl max-w-2xl w-full max-h-[90vh] flex flex-col dark:bg-neutral-800 dark:border-neutral-700 transition-all duration-200 ${isClosing ? 'scale-95 opacity-0' : 'scale-100 opacity-100'}`}>\n          <div className=\"flex justify-between items-center py-3 px-4 border-b border-gray-200 dark:border-neutral-700\">\n            <h3 id=\"hs-static-backdrop-modal-label\" className=\"font-bold text-gray-800 dark:text-white\">\n              Upload Files\n            </h3>\n            {(uploadState === 'idle' || uploadState === 'uploading') && (\n              <button \n                type=\"button\" \n                onClick={uploadState === 'idle' ? onClose : undefined}\n                disabled={uploadState === 'uploading'}\n                className=\"size-8 inline-flex justify-center items-center gap-x-2 rounded-full border border-transparent bg-gray-100 text-gray-800 hover:bg-gray-200 focus:outline-hidden focus:bg-gray-200 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-700 dark:hover:bg-neutral-600 dark:text-neutral-400 dark:focus:bg-neutral-600\" \n                aria-label=\"Close\"\n              >\n                <span className=\"sr-only\">Close</span>\n                <svg className=\"shrink-0 size-4\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                  <path d=\"M18 6 6 18\"></path>\n                  <path d=\"m6 6 12 12\"></path>\n                </svg>\n              </button>\n            )}\n          </div>\n          <div className=\"p-4 overflow-y-auto flex-1\">\n            {uploadState === 'duplicate' ? (\n              <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4\">\n                <div className=\"flex\">\n                  <div className=\"flex-shrink-0\">\n                    <svg className=\"h-5 w-5 text-yellow-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                      <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                    </svg>\n                  </div>\n                  <div className=\"ml-3\">\n                    <h3 className=\"text-sm font-medium text-yellow-800\">\n                      Article Already Transcribed\n                    </h3>\n                    <div className=\"mt-2 text-sm text-yellow-700\">\n                      <p>{errorMessage}</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ) : uploadState === 'error' ? (\n              <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-4\">\n                <div className=\"flex\">\n                  <div className=\"flex-shrink-0\">\n                    <svg className=\"h-5 w-5 text-red-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                      <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n                    </svg>\n                  </div>\n                  <div className=\"ml-3\">\n                    <h3 className=\"text-sm font-medium text-red-800\">\n                      Upload Error\n                    </h3>\n                    <div className=\"mt-2 text-sm text-red-700\">\n                      <p>{errorMessage}</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ) : null}\n            \n            <FilePond\n              files={files}\n              onupdatefiles={handleFilesUpdate}\n              allowMultiple={true}\n              maxFiles={20}\n              server={{\n                process: {\n                  url: \"http://localhost:8000/api/transcription/create_article/\",\n                  method: 'POST',\n                  onload: (response) => {\n                    // Check if response indicates success or error\n                    try {\n                      const responseData = JSON.parse(response);\n                      if (responseData.success === false) {\n                        // Handle as error\n                        handleUploadError({ body: response });\n                        return null;\n                      } else if (responseData.success === true) {\n                        // Handle as success\n                        handleUploadSuccess();\n                        return response;\n                      }\n                    } catch (e) {\n                      // Not JSON, treat as success for backward compatibility\n                      handleUploadSuccess();\n                      return response;\n                    }\n                    // Default to success if no explicit success flag\n                    handleUploadSuccess();\n                    return response;\n                  },\n                  onerror: (response) => {\n                    handleUploadError(response);\n                    return response;\n                  }\n                }\n              }}\n              name=\"files\"\n              labelIdle='Drag and drop files to upload... (or <span class=\"filepond--label-action\">browse)</span>.'\n              acceptedFileTypes={['audio/*', 'video/*']}\n              onprocessfilestart={handleUploadStart}\n            />\n          </div>\n          <div className=\"flex justify-end items-center gap-x-2 py-3 px-4 border-t border-gray-200 dark:border-neutral-700\">\n            {uploadState === 'idle' && (\n              <button \n                type=\"button\" \n                onClick={onClose}\n                className=\"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-2xs hover:bg-gray-50 focus:outline-hidden focus:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-800 dark:border-neutral-700 dark:text-white dark:hover:bg-neutral-700 dark:focus:bg-neutral-700\"\n              >\n                Close\n              </button>\n            )}\n            \n            {(uploadState === 'success' || uploadState === 'uploading') && (\n              <button \n                type=\"button\" \n                onClick={handleOkClick}\n                disabled={uploadState === 'uploading'}\n                className=\"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg bg-green-600 text-white shadow-2xs hover:bg-green-700 focus:outline-hidden focus:bg-green-700 disabled:opacity-50 disabled:pointer-events-none disabled:bg-gray-400\"\n              >\n                OK\n              </button>\n            )}\n            \n            {uploadState === 'duplicate' && (\n              <>\n                <button \n                  type=\"button\" \n                  onClick={handleModalClose}\n                  className=\"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-2xs hover:bg-gray-50 focus:outline-hidden focus:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-800 dark:border-neutral-700 dark:text-white dark:hover:bg-neutral-700 dark:focus:bg-neutral-700\"\n                >\n                  Close\n                </button>\n                <button \n                  type=\"button\" \n                  onClick={handleRetryClick}\n                  className=\"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg bg-yellow-600 text-white shadow-2xs hover:bg-yellow-700 focus:outline-hidden focus:bg-yellow-700 disabled:opacity-50 disabled:pointer-events-none\"\n                >\n                  Upload Different File\n                </button>\n              </>\n            )}\n            \n            {uploadState === 'error' && (\n              <>\n                <button \n                  type=\"button\" \n                  onClick={handleModalClose}\n                  className=\"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-2xs hover:bg-gray-50 focus:outline-hidden focus:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-800 dark:border-neutral-700 dark:text-white dark:hover:bg-neutral-700 dark:focus:bg-neutral-700\"\n                >\n                  Close\n                </button>\n                <button \n                  type=\"button\" \n                  onClick={handleRetryClick}\n                  className=\"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg bg-blue-600 text-white shadow-2xs hover:bg-blue-700 focus:outline-hidden focus:bg-blue-700 disabled:opacity-50 disabled:pointer-events-none\"\n                >\n                  Retry\n                </button>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UploadModal; "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1184, "column": 0}, "map": {"version":3,"sources":["file:///app/src/app/tools/transcription/components/TranscriptionEditor.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\n\ninterface TranscribedArticle {\n  id: number;\n  filename: string;\n  created_on: string;\n  modified_on: string;\n  pubmed_id: number | null;\n  is_curated: boolean;\n  transcription_status: string;\n  transcription_content: string;\n  curation_status: string;\n  transcription_error?: string;\n  curation_error?: string;\n  curation_started_at?: string;\n  approximate_tokens?: number;\n}\n\ninterface TranscriptionEditorProps {\n  selectedRecord: TranscribedArticle | null;\n  onClose: () => void;\n  onSave: (recordId: number, content: string) => Promise<void>;\n}\n\nconst TranscriptionEditor: React.FC<TranscriptionEditorProps> = ({\n  selectedRecord,\n  onClose,\n  onSave,\n}) => {\n  const [content, setContent] = useState('');\n  const [originalContent, setOriginalContent] = useState('');\n  const [isSaving, setIsSaving] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<string | null>(null);\n  const [showExitPrompt, setShowExitPrompt] = useState(false);\n\n  // Update content when selected record changes\n  useEffect(() => {\n    if (selectedRecord) {\n      setContent(selectedRecord.transcription_content || '');\n      setOriginalContent(selectedRecord.transcription_content || '');\n      setError(null);\n      setSuccess(null);\n    }\n  }, [selectedRecord]);\n\n  // Handle escape key to close modal\n  useEffect(() => {\n    const handleEscape = (event: KeyboardEvent) => {\n      if (event.key === 'Escape' && selectedRecord) {\n        const hasChanges = content !== originalContent;\n        if (hasChanges) {\n          setShowExitPrompt(true);\n        } else {\n          onClose();\n        }\n      }\n    };\n\n    if (selectedRecord) {\n      document.addEventListener('keydown', handleEscape);\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleEscape);\n    };\n  }, [selectedRecord, onClose, content, originalContent]);\n\n  const handleSave = async () => {\n    if (!selectedRecord) return;\n\n    setIsSaving(true);\n    setError(null);\n    setSuccess(null);\n\n    try {\n      await onSave(selectedRecord.id, content);\n      setSuccess('Transcription saved successfully!');\n      setOriginalContent(content);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to save transcription');\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const hasChanges = content !== originalContent;\n\n  const handleRevert = () => {\n    setContent(originalContent);\n    setError(null);\n    setSuccess(null);\n  };\n\n  const handleClose = () => {\n    if (hasChanges) {\n      setShowExitPrompt(true);\n    } else {\n      onClose();\n    }\n  };\n\n  const handleSaveAndExit = async () => {\n    setShowExitPrompt(false);\n    onClose();\n    \n    // Save in background\n    try {\n      await onSave(selectedRecord!.id, content);\n      setOriginalContent(content);\n    } catch (err) {\n      console.error('Failed to save transcription:', err);\n      // Could show a toast notification here if needed\n    }\n  };\n\n  const handleExitWithoutSaving = () => {\n    setShowExitPrompt(false);\n    onClose();\n  };\n\n  if (!selectedRecord) {\n    return null;\n  }\n\n  return (\n    <div \n      className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\n      style={{ backgroundColor: 'rgba(0, 0, 0, 0.5)' }}\n    >\n      <div className=\"bg-white rounded-lg shadow-xl w-full max-w-6xl h-[90vh] flex flex-col\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n          <div>\n            <h2 className=\"text-xl font-semibold text-gray-900\">\n              Filename: {selectedRecord.filename}\n            </h2>\n          </div>\n          <button\n            onClick={handleClose}\n            className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n          >\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n\n        {/* Status Messages */}\n        {(error || success) && (\n          <div className=\"px-6 py-3\">\n            {error && (\n              <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md\">\n                {error}\n              </div>\n            )}\n            {success && (\n              <div className=\"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-md\">\n                {success}\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Editor */}\n        <div className=\"flex-1 p-6\">\n          <div className=\"h-full flex flex-col\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <label className=\"block text-sm font-medium text-gray-700\">\n                Content\n              </label>\n              <span className=\"text-sm text-gray-600\">\n                Token count: {Math.ceil(content.length / 4)} tokens\n              </span>\n            </div>\n            \n            <textarea\n              value={content}\n              onChange={(e) => setContent(e.target.value)}\n              className=\"flex-1 w-full p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none font-mono text-sm\"\n              placeholder=\"Enter or edit transcription content...\"\n            />\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"flex items-center justify-between p-6 border-t border-gray-200\">\n          <div className=\"text-sm text-gray-500\">\n            Last modified: {new Date(selectedRecord.modified_on).toLocaleString()}\n          </div>\n          \n          <div className=\"flex items-center space-x-3\">\n            <button\n              onClick={handleRevert}\n              disabled={!hasChanges || isSaving}\n              className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              Revert Changes\n            </button>\n            \n            <button\n              onClick={handleSave}\n              disabled={!hasChanges || isSaving}\n              className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {isSaving ? 'Saving...' : 'Save Changes'}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Exit Prompt Modal */}\n      {showExitPrompt && (\n        <div \n          className=\"fixed inset-0 flex items-center justify-center z-60 p-4\"\n          style={{ backgroundColor: 'rgba(0, 0, 0, 0.5)' }}\n        >\n          <div className=\"bg-white rounded-lg shadow-xl max-w-md w-full p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n              Do you want to save your changes?\n            </h3>\n            <div className=\"flex justify-end space-x-3\">\n              <button\n                onClick={handleExitWithoutSaving}\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                No\n              </button>\n              <button\n                onClick={handleSaveAndExit}\n                className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                Yes\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TranscriptionEditor; "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1547, "column": 0}, "map": {"version":3,"sources":["file:///app/src/app/tools/transcription/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport RecordsTable from '@/app/components/RecordsTable';\nimport UploadModal from '@/app/components/UploadModal';\nimport TranscriptionEditor from './components/TranscriptionEditor';\n\ntype TranscribedArticle = {\n  id: number;\n  filename: string;\n  created_on: string;\n  modified_on: string;\n  pubmed_id: number | null;\n  is_curated: boolean;\n  transcription_status: string;\n  transcription_content: string;\n  curation_status: string;\n  transcription_error?: string;\n  curation_error?: string;\n  curation_started_at?: string;\n  approximate_tokens?: number;\n};\n\n\n\nconst TranscriptionPage = () => {\n  const [articles, setArticles] = useState<TranscribedArticle[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isUploadModalOpen, setIsUploadModalOpen] = useState(false);\n  const [selectedRecord, setSelectedRecord] = useState<TranscribedArticle | null>(null);\n  const [isEditorOpen, setIsEditorOpen] = useState(false);\n\n  // Function to fetch articles from API\n  const fetchArticles = async () => {\n    try {\n      const response = await fetch('http://localhost:8000/api/transcribed-articles/');\n      if (response.ok) {\n        const data = await response.json();\n        setArticles(data);\n      } else {\n        console.error('Failed to fetch transcribed articles');\n      }\n    } catch (error) {\n      console.error('Error fetching transcribed articles:', error);\n    }\n  };\n\n  // Initial fetch and polling setup\n  useEffect(() => {\n    fetchArticles();\n    \n    // Set up polling every 3 seconds\n    const interval = setInterval(fetchArticles, 3000);\n    \n    // Cleanup interval on component unmount\n    return () => clearInterval(interval);\n  }, []);\n\n  const handleUploadClick = () => {\n    setIsUploadModalOpen(true);\n  };\n\n  const handleUploadComplete = () => {\n    fetchArticles(); // Refresh the articles list\n  };\n\n  const handleModalClose = () => {\n    setIsUploadModalOpen(false);\n  };\n\n  const handleEditTranscription = (record: TranscribedArticle) => {\n    setSelectedRecord(record);\n    setIsEditorOpen(true);\n  };\n\n  const handleEditorClose = () => {\n    setIsEditorOpen(false);\n    setSelectedRecord(null);\n  };\n\n  const handleSaveTranscription = async (recordId: number, content: string) => {\n    try {\n      const response = await fetch(`http://localhost:8000/api/transcribed-articles/${recordId}/update_transcription/`, {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          transcription_content: content,\n        }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to save transcription');\n      }\n\n      // Refresh the articles list to get updated data\n      await fetchArticles();\n    } catch (error) {\n      console.error('Error saving transcription:', error);\n      throw error;\n    }\n  };\n\n  return (\n    <>  \n      <div className=\"p-6 max-w-7xl mx-auto\">\n        <div className=\"mb-6\">\n          <h1 className=\"text-2xl font-bold text-gray-900\">Transcription Management</h1>\n          <p className=\"text-gray-600 mt-2\">\n            Upload and manage article transcriptions for curation processing.\n          </p>\n        </div>\n\n        <div id='records-table-section' className=\"flex flex-col gap-4 bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n          {/* Records Table */}\n          <RecordsTable \n            records={articles} \n            onRecordDeleted={fetchArticles}\n            onUploadClick={handleUploadClick}\n            onEditRecord={handleEditTranscription}\n          />\n        </div>\n      </div>\n\n      {/* Upload Modal */}\n      <UploadModal\n        isOpen={isUploadModalOpen}\n        onClose={handleModalClose}\n        onUploadComplete={handleUploadComplete}\n      />\n\n      {/* Transcription Editor */}\n      {isEditorOpen && selectedRecord && (\n        <TranscriptionEditor\n          selectedRecord={selectedRecord}\n          onClose={handleEditorClose}\n          onSave={handleSaveTranscription}\n        />\n      )}\n    </>\n  );\n};\n\nexport default TranscriptionPage;"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAyBA,MAAM,oBAAoB;IACxB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAwB,EAAE;IACjE,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3D,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAA6B;IAChF,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEjD,sCAAsC;IACtC,MAAM,gBAAgB;QACpB,IAAI;YACF,MAAM,WAAW,MAAM,MAAM;YAC7B,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,YAAY;YACd,OAAO;gBACL,QAAQ,KAAK,CAAC;YAChB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wCAAwC;QACxD;IACF;IAEA,kCAAkC;IAClC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR;QAEA,iCAAiC;QACjC,MAAM,WAAW,YAAY,eAAe;QAE5C,wCAAwC;QACxC,OAAO,IAAM,cAAc;IAC7B,GAAG,EAAE;IAEL,MAAM,oBAAoB;QACxB,qBAAqB;IACvB;IAEA,MAAM,uBAAuB;QAC3B,iBAAiB,4BAA4B;IAC/C;IAEA,MAAM,mBAAmB;QACvB,qBAAqB;IACvB;IAEA,MAAM,0BAA0B,CAAC;QAC/B,kBAAkB;QAClB,gBAAgB;IAClB;IAEA,MAAM,oBAAoB;QACxB,gBAAgB;QAChB,kBAAkB;IACpB;IAEA,MAAM,0BAA0B,OAAO,UAAkB;QACvD,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,CAAC,+CAA+C,EAAE,SAAS,sBAAsB,CAAC,EAAE;gBAC/G,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBACnB,uBAAuB;gBACzB;YACF;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,YAAY,MAAM,SAAS,IAAI;gBACrC,MAAM,IAAI,MAAM,UAAU,OAAO,IAAI;YACvC;YAEA,gDAAgD;YAChD,MAAM;QACR,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,+BAA+B;YAC7C,MAAM;QACR;IACF;IAEA,qBACE;;0BACE,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAmC;;;;;;0CACjD,8OAAC;gCAAE,WAAU;0CAAqB;;;;;;;;;;;;kCAKpC,8OAAC;wBAAI,IAAG;wBAAwB,WAAU;kCAExC,cAAA,8OAAC,yIAAA,CAAA,UAAY;4BACX,SAAS;4BACT,iBAAiB;4BACjB,eAAe;4BACf,cAAc;;;;;;;;;;;;;;;;;0BAMpB,8OAAC,wIAAA,CAAA,UAAW;gBACV,QAAQ;gBACR,SAAS;gBACT,kBAAkB;;;;;;YAInB,gBAAgB,gCACf,8OAAC,0KAAA,CAAA,UAAmB;gBAClB,gBAAgB;gBAChB,SAAS;gBACT,QAAQ;;;;;;;;AAKlB;uCAEe","debugId":null}}]
}